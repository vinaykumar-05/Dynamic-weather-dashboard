<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>Dynamic Weather Dashboard</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- FontAwesome for icons -->
  <script src="https://kit.fontawesome.com/3a2e5c0e8d.js" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="style.css">

  <style>
    /* ===== Base Styles ===== */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Poppins', sans-serif; color: white; overflow-x: hidden; background: #0e1726; }

    /* ===== Landing/Home Section ===== */
    #home {
      height: 100vh;
      width: 100vw;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      background: url("assets/bg-landing.jpg") no-repeat center center/cover;
    }

    .landing {
      position: relative;
      backdrop-filter: blur(15px) saturate(180%);
      -webkit-backdrop-filter: blur(15px) saturate(180%);
      background: rgba(255, 255, 255, 0.1);
      border-radius: 25px;
      border: 1px solid rgba(255,255,255,0.3);
      padding: 50px 30px;
      max-width: 90%;
      text-align: center;
      box-shadow: 0 8px 32px rgba(0,0,0,0.4);
      animation: fadeInUp 1.5s ease-in-out;
      z-index: 2;
    }

    .landing h1 {
      font-size: 2.2rem;
      margin-bottom: 15px;
      background: linear-gradient(90deg, #00f5a0, #00d9ff, #ff00e0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: neonGlow 2.5s ease-in-out infinite alternate;
    }

    .landing p {
      font-size: 1rem;
      margin-bottom: 25px;
      opacity: 0.9;
      animation: fadeIn 2s ease-in-out;
    }

    .landing button {
      padding: 12px 30px;
      font-size: 1rem;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      background: linear-gradient(135deg, #00f5a0, #00d9ff, #ff00e0);
      color: white;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      box-shadow: 0 0 20px rgba(0,245,160,0.5), 0 0 40px rgba(0,217,255,0.5), 0 0 60px rgba(255,0,224,0.3);
      transition: 0.4s all ease;
    }

    .landing button:hover {
      transform: scale(1.05) translateY(-2px);
      box-shadow: 0 0 30px rgba(0,245,160,0.8), 0 0 50px rgba(0,217,255,0.8), 0 0 70px rgba(255,0,224,0.5);
    }

    /* ===== Dashboard Section ===== */
    #dashboard { display: none; position: relative; }

    /* ===== Responsive adjustments ===== */
    @media (max-width: 768px) {
      .landing h1 { font-size: 1.8rem; }
      .landing p { font-size: 0.9rem; }
      .landing button { padding: 10px 25px; font-size: 0.9rem; }
      #dashboard main { padding: 10px; }
      .top-bar .search input { width: 60%; }
      .grid { flex-direction: column; gap: 15px; }
      .left-col, .mid-col, .right-col { width: 100%; }
      .forecast-card, .hourly-card { font-size: 12px; }
    }

    /* ===== Particles ===== */
    .particle {
      position: absolute;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      animation: floatUp linear infinite;
    }

    @keyframes floatUp {
      0% { transform: translateY(100vh) translateX(0) scale(0.5); opacity: 0; }
      50% { opacity: 0.4; }
      100% { transform: translateY(-50vh) translateX(50px) scale(1); opacity: 0; }
    }

    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(50px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeIn {
      from { opacity: 0; } to { opacity: 1; }
    }

    @keyframes neonGlow {
      from { text-shadow: 0 0 5px #00f5a0,0 0 10px #00d9ff,0 0 20px #ff00e0; }
      to { text-shadow: 0 0 20px #00f5a0,0 0 40px #00d9ff,0 0 60px #ff00e0; }
    }
  </style>
</head>
<body>

  <!-- ===== Home/Landing Section ===== -->
  <div id="home">
    <div class="landing">
      <h1>Dynamic Weather Dashboard</h1>
      <p>Get real-time weather updates, AQI, forecasts & more üå¶Ô∏è</p>
      <button id="goDashboard">Go to Dashboard</button>
    </div>
    <!-- Floating Particles -->
    <script>
      const body = document.getElementById('home');
      for(let i=0;i<40;i++){
        const particle=document.createElement('div');
        particle.className='particle';
        particle.style.width=particle.style.height=Math.random()*6+4+'px';
        particle.style.left=Math.random()*100+'vw';
        particle.style.animationDuration=Math.random()*12+8+'s';
        particle.style.animationDelay=Math.random()*5+'s';
        body.appendChild(particle);
      }
    </script>
  </div>

  <!-- ===== Weather Dashboard Section ===== -->
  <div id="dashboard">
    <canvas id="effects-canvas"></canvas>
    <div class="overlay"></div>
    <main class="container">
      <header class="top-bar">
        <div class="search">
          <input id="searchCity" type="text" placeholder="Search City" aria-label="Search city">
          <button id="searchBtn" title="Search"><i class="fas fa-search"></i></button>
        </div>
        <div class="brand">Dynamic Weather Dashboard</div>
      </header>
      <section class="grid">
        <div class="left-col">
          <div class="card main-card glass">
            <div class="main-top">
              <div>
                <h2 id="cityName">Loading...</h2>
                <p id="condition" class="muted">‚Äî</p>
              </div>
              <div class="temp-wrap">
                <div id="temperature" class="temp">--¬∞C</div>
              </div>
            </div>
            <div class="main-bottom">
              <div class="meta">
                <div><i class="fas fa-calendar-day"></i> <span id="date">--</span></div>
                <div><i class="fas fa-clock"></i> <span id="time">--</span></div>
              </div>
            </div>
          </div>
          <div class="card coming-days glass">
            <h3>Coming 5 Days</h3>
            <div id="forecast" class="forecast-list"></div>
          </div>
        </div>
        <div class="mid-col">
          <div class="top-cards">
            <div class="small-card glass">
              <div class="icon"><i class="fas fa-wind"></i></div>
              <div class="label">Wind</div>
              <div id="wind" class="value">-- km/h</div>
            </div>
            <div class="small-card glass">
              <div class="icon"><i class="fas fa-tachometer-alt"></i></div>
              <div class="label">Pressure</div>
              <div id="pressure" class="value">-- hPa</div>
            </div>
            <div class="small-card glass">
              <div class="icon"><i class="fas fa-tint"></i></div>
              <div class="label">Humidity</div>
              <div id="humidity" class="value">--%</div>
            </div>
            <div class="small-card glass">
              <div class="icon"><i class="fas fa-eye"></i></div>
              <div class="label">Visibility</div>
              <div id="visibility" class="value">-- km</div>
            </div>
          </div>
          <div class="large-cards">
            <div class="card aqi-card glass">
              <h3>Air Quality Index (AQI)</h3>
              <div class="aqi-grid">
                <div>PM2.5 <span id="pm25">--</span></div>
                <div>SO‚ÇÇ <span id="so2">--</span></div>
                <div>NO‚ÇÇ <span id="no2">--</span></div>
                <div>O‚ÇÉ <span id="o3">--</span></div>
              </div>
            </div>
            <div class="card sun-box glass">
              <h3>Sunrise & Sunset</h3>
              <div class="sun-container">
                <div class="sun-item">
                  <img src="assets/sunrise.png" alt="sunrise" class="sun-icon">
                  <p><strong>Sunrise</strong><br><span id="sunrise">--</span></p>
                </div>
                <div class="sun-item">
                  <img src="assets/sunset.jpg" alt="sunset" class="sun-icon">
                  <p><strong>Sunset</strong><br><span id="sunset">--</span></p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="right-col">
          <div class="card hourly-card glass">
            <h3>Today</h3>
            <div id="hourly" class="hourly-list"></div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- ===== Switch Sections Script & Geolocation Prompt ===== -->
  <script>
    const goBtn = document.getElementById('goDashboard');
    const home = document.getElementById('home');
    const dashboard = document.getElementById('dashboard');

    goBtn.addEventListener('click', () => {
      home.style.display = 'none';
      dashboard.style.display = 'block';
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          (pos) => {
            const { latitude, longitude } = pos.coords;
            localStorage.setItem("userLat", latitude);
            localStorage.setItem("userLon", longitude);
          },
          (err) => console.warn("Geolocation denied:", err.message),
          { enableHighAccuracy: true }
        );
      }
    });
  </script>

  <!-- Weather Dashboard Script -->
  <script src="script.js"></script>
</body>
</html>
